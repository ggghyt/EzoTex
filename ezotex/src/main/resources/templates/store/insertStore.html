<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
      layout:fragment="content">
	<head>
		<meta charset="UTF-8">
		<title>이조텍스SCM</title>
		<link rel="stylesheet" href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
		<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>
		<style type="text/css">
		
			.scroll{
				display: block; max-height: 100px; overflow-y: scroll;
			}
		
			table thead, table tbody tr {
			  display: table;
			  width: 100%;
			}
		</style>
	</head>
	<body>
		<div class="d-flex align-items-center">
		<h3 class="fs-3 fw-bold">| 자재/제품 입고 등록</h3>
		<button class="btn btn-secondary" style="margin:10px;">자재 입고</button>
		<button class="btn btn-secondary" style="margin:10px;">제품 입고</button>
		</div>
		<div class="card card-body mt-3">
			<div class="col-12 card card-body m-2">
				<div class="row g-3 align-items-center">
			  		<div class="col-auto">
			    		<label class="col-form-label">검색조건1</label>
			  		</div>
			  		<div class="col-auto">
			    		<input type="text" id="" class="form-control">
			  		</div>
				</div>
				<div class="row g-3 align-items-center">
			  		<div class="col-auto">
			    		<label class="col-form-label">검색조건2</label>
			  		</div>
			  		<div class="col-auto">
			    		<input type="text" id="" class="form-control">
			  		</div>
				</div>
			</div>
			
			<div class="row">
				<div class="col-5 card card-body m-2">
					<div id="grid"></div>
				</div>
				
				<div class="col-5 card card-body m-2">
					<p class="fs-5 fw-bolder mt-2">입고 등록</p>
					<table class="table mt-3">
						<thead class="table-light text-center">
							<tr>
								<th>No</th>
								<th>제품 코드</th>
								<th>제품명</th>
								<th>납품 수량</th>
								<th>입고량 합계</th>
								<th>불량 합계</th>
								<th>추천위치</th>
								<th>창고위치</th>
							</tr>
						</thead>
						<tbody class="scroll">
							<tr th:each="list : ${list}">
								<td th:text="${listStat.count}">...</td>
								<td th:text="${list.productCode}">...</td>
								<td th:text="${list.storeQy}">...</td>
								<td th:text="${list.productColor}">...</td>
								<td th:text="${list.productSize}">...</td>
								<td th:text="${list.storeCharger}">...</td>
								<td th:text="${list.storageLocation}">...</td>
								<!-- 데이터 포맷 방법 -->
								<td th:text="${#dates.format(list.storeDate,'yyyy-MM-dd')}">...</td>
							</tr>
						</tbody>
					</table>
					<p class="fs-5 fw-bolder mt-2">입고 수량 입력</p>
					<table class="table mt-3">
						<thead class="table-light text-center">
							<tr>
								<th>색상/사이즈</th>
								<th>S</th>
								<th>M</th>
								<th>L</th>
								<th>XL</th>
							</tr>
						</thead>
						<tbody class="text-center scroll">
							<tr>
								<th>화이트</th>
								<td>...</td>
								<td>...</td>
								<td>...</td>
								<td>...</td>
							</tr>
							<tr>
								<th>그레이</th>
								<td>...</td>
								<td>...</td>
								<td>...</td>
								<td>...</td>
							</tr>
							<tr>
								<th>블랙</th>
								<td>...</td>
								<td>...</td>
								<td>...</td>
								<td>...</td>
							</tr>
							<tr>
								<th>합계</th>
								<td>...</td>
								<td>...</td>
								<td>...</td>
								<td>...</td>
							</tr>
						</tbody>
					</table>
					<p class="fs-5 fw-bolder mt-2">불량 발생 내역</p>
					<table class="table mt-3">
						<thead class="table-light text-center">
							<tr>
								<th>No</th>
								<th>제품 코드</th>
								<th>제품명</th>
								<th>색상</th>
								<th>사이즈</th>
								<th>불량 수량</th>
								<th>불량 사유</th>
							</tr>
						</thead>
						<tbody class="scroll">
							<tr>
								<td>...</td>
								<td>...</td>
								<td>...</td>
							</tr>
						</tbody>
					</table>
					<div class="d-flex justify-content-end mt-2">
						<button class="btn btn-primary" style="margin:10px;">등록</button>
						<button class="btn btn-secondary" style="margin:10px;">초기화</button>
					</div>
				</div>
			</div>
			
		</div>
		
		
		<!-- Toast UI Grid 스크립트 -->
		<!-- model에 있는 데이터 그리드에 삽입 하는법 -->
		<!-- <script th:inline="javascript">
		    var gridData = /*[[${list}]]*/ [];  // Controller에서 넘긴 데이터를 JSON 형태로 변환
		</script> -->

		
	    <script>   
	   <!-- document.addEventListener("DOMContentLoaded", function () {
	        const grid = new tui.Grid({
	            el: document.getElementById('grid'),
	            data: gridData,
	            scrollX: false,
	            scrollY: true,
	            columns: [
	                { header: 'LOT', name: 'lot' },
	                { header: '제품코드', name: 'productCode' }
	            ]
	        });
	    }); -->
	    </script>
	    <!-- Toast UI Grid 스크립트 -->
	    <script>
	        // Spring Boot REST API에서 데이터를 가져와서 Grid에 로드하는 코드
	        // RestController로 데이터 가져와서 사용해야됨
	        fetch('http://localhost:80/store/test2')
	            .then(response => response.json())
	            .then(data => {
	                const grid = new tui.Grid({
	                    el: document.getElementById('grid'),
	                    data: data,
	                    scrollX: false,	// 가로 스크롤 여부
	                    scrollY: true,	// 세로 스크롤 여부
	                    // 높이 설정
	                    minBodyHeight: 1000,
	                    // row 번호
	                    rowHeaders: ['rowNum'],
	                    // 페이징
	                    pageOptions: {
	                      perPage: 5
	                    },
	                    columns: [
	                        { header: 'LOT', name: 'lot', width: 'auto'},
	                        { header: '제품코드', name: 'productCode' , width: 'auto'},
	                        // 필요한 컬럼을 추가합니다.
	                    ],
	                    // 열 크기 조정 가능 여부
	                    columnOptions: {
	                        resizable: false
	                      },
	                    header: {
	                        align: 'left',
	                        valign: 'top',
	                    }
	                });
	            });
	    </script>

		<!-- 
			sortable: true, = 컬럼의 정렬 여부
			editor: 'text', = 수정가능 여부
			formatter: 'listItemText', = select box 옵션
			// 유효성 검증 옵션
            validation: {
               unique: true,               // [선택] 유일성 체크 확인 옵션
               required: true,
               dataType: 'string',
               regExp: /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i
              },
		 -->
	</body>
</html>