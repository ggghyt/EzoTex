(function(){var e={6251:function(){},7233:function(){},7440:function(e,t,l){"use strict";var o=l(3751),n=l(641);function a(e,t){const l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(l)}var r=l(6262);const s={},d=(0,r.A)(s,[["render",a]]);var i=d,u=l(5220),c=(l(8111),l(116),l(4335));const v="";var p={__name:"driverLogin",setup(e){function t(){const e=document.cookie.split("; ").find((e=>e.startsWith("XSRF-TOKEN=")));return e?e?e.split("=")[1]:null:(console.error(" CSRF 토큰이 없습니다. 쿠키를 확인하세요."),null)}const l=()=>{(0,c.A)({method:"post",url:`${v}/loginProc`,data:"id=delivery&password=delivery",headers:{"X-XSRF-TOKEN":t()}}).then((e=>{"ROLE_DRIVER"===e.data.role?alert("운전자 로그인 성공!"):alert("로그인 실패")})).catch((e=>{console.error("로그인 실패:",e.response.data)}))};return(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[t[0]||(t[0]=(0,n.Lk)("p",null,"로그인",-1)),(0,n.Lk)("button",{class:"btn btn-primary",onClick:l},"테스트"),t[1]||(t[1]=(0,n.Lk)("form",{class:"pt-3",action:"http://localhost:80/driverLogin",method:"post"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("input",{type:"text",class:"form-control form-control-lg",name:"id",placeholder:"아이디",id:"id"})]),(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("input",{type:"password",class:"form-control form-control-lg",name:"password",placeholder:"비밀번호"})]),(0,n.Lk)("div",{class:"mt-3"},[(0,n.Lk)("button",{class:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"},"로그인")]),(0,n.Lk)("div",{class:"my-2 d-flex justify-content-between align-items-center"},[(0,n.Lk)("label",{class:"form-check-label text-muted"},[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",name:"remember-me",id:"remember-me"}),(0,n.eW)(" 로그인 정보 저장 ")])]),(0,n.Lk)("div",{class:"my-2 d-flex justify-content-between align-items-center"},[(0,n.Lk)("a",{href:"/login/password_reset",class:"auth-link text-black"},"비밀번호를 잊어버렸나요?")]),(0,n.Lk)("div",{class:"text-center mt-4 fw-light"},[(0,n.eW)(" 아직 등록을 안했나요? "),(0,n.Lk)("a",{href:"/login/register_main",class:"text-primary"},"등록하기")])],-1))],64))}};const m=p;var f=m,k=l(33),L=l(953),b=l(7088),y=l.n(b),h=l(454);const g={id:"containerApp"},w={class:"col card card-body"},R={class:"search-section"},x={class:"modal fade",id:"registModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},C={class:"modal-dialog"},K={class:"modal-content"},O={class:"modal-body",style:{"text-align":"center"}},_={class:"table",action:"http://localhost:80/driver/deliveryComplete",method:"post",enctype:"multipart/form-data"};var S={__name:"driverMenu",setup(e){const t=document.querySelector('meta[name="_csrf"]')?.getAttribute("content")||"",l=document.querySelector('meta[name="_csrf_header"]')?.getAttribute("content")||"X-XSRF-TOKEN",a=(0,L.KR)(!1),r=(0,L.KR)(""),s=(0,L.KR)(""),d=(0,n.EW)((()=>a.value?s.value:"")),i=(e,t="success")=>{r.value=e,s.value=t,a.value=!0,setTimeout((()=>{a.value=!1,"success"==t&&D()}),2e3)};let u=(0,L.KR)(!1),p=(0,L.KR)(),m=(0,L.KR)(null),f=(0,L.KR)(""),b=(0,L.KR)(""),S=(0,L.KR)(""),E=(0,L.KR)(""),T=(0,L.KR)(""),j=(0,L.KR)(""),A=(0,L.KR)(""),M=(0,L.KR)("");const F=()=>{u.value=!0;let e=document.getElementById("registModal"),t=new h.aF(e);t.show()},D=()=>{let e=document.getElementById("registModal");if(e){let t=h.aF.getInstance(e);t&&t.hide()}};(0,n.sV)((()=>{p.value&&p.value.destroy(),p.value=new(y())({el:document.getElementById("deliveryList"),scrollX:!1,scrollY:!1,bodyHeight:400,pageOptions:{useClient:!1,perPage:10},columns:[{header:"출고 코드",name:"deliveryCode",hidden:!0},{header:"상호명",name:"companyName",minWidth:60,width:"auto"},{header:"납기주소",name:"dedtAddress"},{header:"상태",name:"deliveryStatus",minWidth:30,width:"auto"},{header:"납기일",name:"dedt",hidden:!0}],data:{api:{readData:{url:`${v}/driver/list`,method:"GET"}},contentType:"application/json"},columnOptions:{resizable:!0},showDummyRows:!0}),y().applyTheme("striped"),p.value.on("focusChange",(e=>{null!==m.value&&p.value.removeRowClassName(m.value,"bg-blue"),p.value.addRowClassName(e.rowKey,"bg-blue"),m.value=e.rowKey;let t=p.value.getRow(e.rowKey);console.log(t),E.value=t.deliveryCode,T.value=t.dedtAddress,j.value=t.companyName,A.value=t.dedt,F()}))}));const N=()=>{p.value&&p.value.readData(1,{dedtAddress:f.value,companyName:b.value,deliveryStatus:S.value},!0)},X=()=>{f.value="",b.value="",S="",N()};(0,n.xo)((()=>{p.value&&(p.value.destroy(),p.value=null)}));const V=e=>{e.preventDefault(),e.target.files&&(M.value=e.target.files[0],console.log("업로드한 이미지:",M.value))},B=async()=>{if(""==M.value)return console.log("안됨"),void i("사진을 업로드 해 주세요","error");console.log("작동"),console.log({deliveryCode:E.value,dedtAddress:T.value,companyName:j.value,dedt:A.value,image:M.value});const e=new FormData;e.append("deliveryCode",E.value),e.append("dedtAddress",T.value),e.append("companyName",j.value),e.append("dedt",A.value),e.append("image",M.value),console.log("formData:",e),(0,c.A)({method:"post",url:`${v}/driver/completeDelivery`,data:e,headers:{[l]:t}}).then((e=>{console.log(e),"success"==e&&(i("배송이 완료되었습니다","success"),p.value.readData())})).catch((e=>{console.error(e)}))};return(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("div",{class:(0,k.C4)(["toast show",d.value])},(0,k.v_)(r.value),3),[[o.aG,a.value]])])),_:1}),(0,n.Lk)("div",g,[(0,n.Lk)("div",w,[t[13]||(t[13]=(0,n.Lk)("p",{class:"fs-6 fw-bold deliveryTitle"},"| 배송지 목록",-1)),(0,n.Lk)("div",R,[(0,n.Lk)("div",null,[t[7]||(t[7]=(0,n.Lk)("span",null,"배송주소",-1)),(0,n.bo)((0,n.Lk)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>(0,L.i9)(f)?f.value=e:f=e),type:"text",onKeyup:(0,o.jR)(N,["enter"])},null,544),[[o.Jo,(0,L.R1)(f)]])]),(0,n.Lk)("div",null,[t[8]||(t[8]=(0,n.Lk)("span",null,"상호명",-1)),(0,n.bo)((0,n.Lk)("input",{class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>(0,L.i9)(b)?b.value=e:b=e),type:"text",onKeyup:(0,o.jR)(N,["enter"])},null,544),[[o.Jo,(0,L.R1)(b)]])]),(0,n.Lk)("div",null,[t[12]||(t[12]=(0,n.Lk)("span",null,"상태",-1)),(0,n.bo)((0,n.Lk)("select",{class:"search-status form-control","onUpdate:modelValue":t[2]||(t[2]=e=>(0,L.i9)(S)?S.value=e:S=e)},t[9]||(t[9]=[(0,n.Lk)("option",{value:""},"전체",-1),(0,n.Lk)("option",{value:"DS01"},"미완료",-1),(0,n.Lk)("option",{value:"DS05"},"완료",-1)]),512),[[o.u1,(0,L.R1)(S)]]),(0,n.Lk)("span",{class:"btn-gruop"},[(0,n.Lk)("button",{class:"btn btn-primary",onClick:N},t[10]||(t[10]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"15",height:"15"},[(0,n.Lk)("path",{fill:"#ffffff",d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1)])),(0,n.Lk)("button",{class:"btn btn-secondary",onClick:X},t[11]||(t[11]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"15",height:"15"},[(0,n.Lk)("path",{fill:"#ffffff",d:"M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z"})],-1)]))])])]),t[14]||(t[14]=(0,n.Lk)("div",{id:"deliveryList"},null,-1))])]),(0,n.Lk)("div",x,[(0,n.Lk)("div",C,[(0,n.Lk)("div",K,[t[20]||(t[20]=(0,n.Lk)("div",{class:"modal-header",style:{height:"20px"}},[(0,n.Lk)("h5",{class:"modal-title",id:"exampleModalLabel",style:{"font-size":"15px"}},"배송지 정보")],-1)),(0,n.Lk)("div",O,[(0,n.Lk)("div",null,[(0,n.Lk)("form",null,[(0,n.Lk)("table",_,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[t[15]||(t[15]=(0,n.Lk)("td",{scope:"row"},"출고코드",-1)),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>(0,L.i9)(E)?E.value=e:E=e),name:"deliveryCode",disabled:""},null,512),[[o.Jo,(0,L.R1)(E)]])])]),(0,n.Lk)("tr",null,[t[16]||(t[16]=(0,n.Lk)("td",{scope:"row"},"납품주소",-1)),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",disabled:"","onUpdate:modelValue":t[4]||(t[4]=e=>(0,L.i9)(T)?T.value=e:T=e),name:"dedtAddress"},null,512),[[o.Jo,(0,L.R1)(T)]])])]),(0,n.Lk)("tr",null,[t[17]||(t[17]=(0,n.Lk)("td",{scope:"row"},"상호명",-1)),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>(0,L.i9)(j)?j.value=e:j=e),name:"companyName",disabled:""},null,512),[[o.Jo,(0,L.R1)(j)]])])]),(0,n.Lk)("tr",null,[t[18]||(t[18]=(0,n.Lk)("td",{scope:"row"},"납기일",-1)),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>(0,L.i9)(A)?A.value=e:A=e),disabled:""},null,512),[[o.Jo,(0,L.R1)(A)]])])]),(0,n.Lk)("tr",null,[t[19]||(t[19]=(0,n.Lk)("td",{scope:"row"},"배송사진",-1)),(0,n.Lk)("td",null,[(0,n.Lk)("input",{type:"file",class:"form-control",id:"profile-upload",accept:"image/*",onChange:V},null,32)])])])]),(0,n.Lk)("div",{class:"modal-footer regist",style:{display:"flex","justify-content":"center","border-top":"none"}},[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:B},"등록"),(0,n.Lk)("button",{type:"button",class:"btn btn-outline-secondary denyBtn",onClick:D,"data-bs-dismiss":"modal"},"이전")])])])])])])])],64))}};const E=S;var T=E;const j={class:"modal-wrap"};var A={__name:"modalTest",setup(e){let t=(0,L.KR)(!1);const l=()=>{console.log("작동"),t.value=!t.value};return(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("button",{onClick:l},"Modal"),(0,n.Lk)("div",null,[(0,n.bo)((0,n.Lk)("div",j,[(0,n.Lk)("div",{class:"modal-container"},[a[0]||(a[0]=(0,n.eW)(" ... ")),(0,n.Lk)("div",{class:"modal-btn"},[(0,n.Lk)("button",{onClick:l},"닫기"),(0,n.Lk)("button",{onClick:l},"확인")])])],512),[[o.aG,(0,L.R1)(t)]])])],64))}};const M=A;var F=M;const D=[{path:"",redirect:{name:"driveList"}},{path:"login",name:"login",component:f},{path:"driveList",name:"driveList",component:T},{path:"modalTest",name:"modalTest",component:F}];var N=D;const X=(0,u.aE)({scrollBehavior(){return{top:0}},history:(0,u.LA)(),routes:[{path:"/delivery",name:"delivery",children:N}]});var V=X,B=l(6964);const W=(0,o.Ef)(i);W.use(B.A),W.use(V),W.mount("#app")},9800:function(){}},t={};function l(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,l),a.exports}l.m=e,function(){var e=[];l.O=function(t,o,n,a){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],a=e[u][2];for(var s=!0,d=0;d<o.length;d++)(!1&a||r>=a)&&Object.keys(l.O).every((function(e){return l.O[e](o[d])}))?o.splice(d--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,n,a]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,r=o[0],s=o[1],d=o[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(d)var u=d(l)}for(t&&t(o);i<r.length;i++)a=r[i],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=l.O(void 0,[504],(function(){return l(7440)}));o=l.O(o)})();
//# sourceMappingURL=app.c3a0c63e.js.map